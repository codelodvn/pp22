<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Password Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
            background-color: black;
            color: white;
        }

        #rules {
            text-align: left;
            max-width: 600px;
            margin: 0 auto;
        }

        input {
            margin: 10px;
            padding: 10px;
            width: 320px;
            font-size: 16px;
            border: 2px solid #4CAF50;
            border-radius: 5px;
            background-color: #222;
            color: white;
            outline: none;
        }

        input:focus {
            border-color: #00ff00;
        }

        .valid {
            color: green;
        }

        .invalid {
            color: red;
        }

        .platform-images {
            display: none;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .platform-images img {
            width: 100px;
            height: 100px;
            background-color: white;
            padding: 10px;
            border-radius: 10px;
        }

        .rule-completed {
            color: yellow;
        }

        #achievementCounter {
            color: #00BFFF;
            font-size: 14px;
            margin-top: 20px;
            position: absolute;
            top: 70px;
            left: 10px;
        }

        #resetGame {
            margin-top: 20px;
            padding: 10px;
            font-size: 12px;
            background-color: white;
            color: black;
            border-radius: 5px;
            cursor: pointer;
            position: absolute;
            top: 10px;
            left: 10px;
            transition: background-color 0.3s;
        }

        #resetGame:hover {
            background-color: #f0f0f0;
        }

        #gameOverMessage {
            display: none;
            color: red;
            font-size: 36px;
            margin-top: 20px;
        }

        #tryAgain {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
        }

        #tryAgain:hover {
            background-color: #45a049;
        }

        /* New Style for "You completed the game!" message */
        #completionMessage {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: yellow;
            color: black;
            padding: 20px;
            font-size: 24px;
            border-radius: 10px;
            font-weight: bold;
            z-index: 9999;
        }
    </style>
</head>

<body>
    <h1>Password Puzzle 2</h1>
    <input type="text" id="password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u c·ªßa b·∫°n" oninput="checkPassword()">
    <div id="feedback"></div>
    <h2>Quy t·∫Øc</h2>
    <ul id="rules"></ul>
    <div class="platform-images" id="platformImages">
        <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Facebook_Logo_%282019%29.png" alt="Facebook">
        <img src="https://upload.wikimedia.org/wikipedia/en/a/a9/TikTok_logo.svg" alt="TikTok">
        <img src="https://upload.wikimedia.org/wikipedia/commons/b/b8/YouTube_Logo_2017.svg" alt="YouTube">
    </div>

    <div id="resetGame" onclick="resetGame()">Reset Game</div>
    <div id="achievementCounter">Ti·∫øn tr√¨nh: 0/31</div>
    <div id="gameOverMessage">Game Over‚ùå</div>
    <button id="tryAgain" onclick="resetGame()">Th·ª≠ l·∫°i</button>

    <!-- New Completion Message -->
    <div id="completionMessage">Bro th·ª±c s·ª± ch·∫•t.</div>

    <script>
        const rules = [
            "Rule 0: Nh·∫≠p m·ªôt m·∫≠t kh·∫©u ng·∫´u nhi√™n.",
            "Rule 1: Ph·∫£i c√≥ √≠t nh·∫•t 8 k√Ω t·ª±",
            "Rule 2: Ph·∫£i c·∫ßn th√™m m·ªôt ch·ªØ c√°i vi·∫øt hoA",
            "Rule 3: M·∫≠t kh·∫©u ph·∫£i c√≥ m·ªôt trong ba n·ªÅn t·∫£ng sau:",
            "Rule 4: M·∫≠t kh·∫©u c·∫ßn th√™m m·ªôt s·ªë",
            "Rule 5: M·∫≠t kh·∫©u c·∫ßn th√™m m·ªôt k√Ω t·ª± ƒë·∫∑c bi·ªát",
            "Rule 6: 3x - 5 < 2x + 4 K√≠ t·ª± ƒë·∫ßu ti√™n c·ªßa m·∫≠t kh·∫©u ph·∫£i ch·ª©a m·ªôt nghi·ªám c·ªßa b·∫•t ph∆∞∆°ng tr√¨nh.",
            "Rule 7: T√¨m n∆∞·ªõc ƒëi h√≤a. <a href='https://codelodvn.github.io/theco/' target='_blank'>chi ti·∫øt th·∫ø c·ªù</a>",
            "Rule 8: V·ªã tr√≠ n√†y ·ªü qu·ªëc Da n√†o? <a href='https://www.google.com/maps/place/Davenport+L%C3%A3nh+th%E1%BB%95+B%E1%BA%AFc+%C3%9Ic+0872,+%C3%9Ic/@-20.9625609,134.2075786,3a,75y,90t/data=!3m7!1e1!3m5!1sx0kis4vR7FKro88m2Z1D_A!2e0!6shttps:%2F%2Fstreetviewpixels-pa.googleapis.com%2Fv1%2Fthumbnail%3Fcb_client%3Dmaps_sv.tactile%26w%3D900%26h%3D600%26pitch%3D0%26panoid%3Dx0kis4vR7FKro88m2Z1D_A%26yaw%3D0!7i16384!8i8192!4m6!3m5!1s0x2b4ab3b30f6608fb:0x40217a82a254550!8m2!3d-20.9626754!4d134.2074781!16s%2Fg%2F1thv1nq6?entry=tts&g_ep=EgoyMDI1MDIwOS4wIPu8ASoASAFQAw%3D%3D' target='_blank'>xem</a>",
            "Rule 9: M·ªôt b·ªÉ n∆∞·ªõc c√≥ hai v√≤i n∆∞·ªõc v·ªõi v√≤i th·ª© nh·∫•t l√†m ƒë·∫ßy b·ªÉ trong 4 ti·∫øng, v√≤i th·ª© hai l√†m ƒë·∫ßy b·ªÉ trong 6 ti·∫øng. N·∫øu c·∫£ hai v√≤i c√πng m·ªü, nh∆∞ng c√≥ m·ªôt l·ªó r√≤ r·ªâ l√†m m·∫•t 1/12 b·ªÉ m·ªói gi·ªù, th√¨ b·ªÉ ƒë·∫ßy sau x ti·∫øng, t√¨m x.",
            "Rule 10: M·∫≠t kh·∫©u l√† M·ªôt ph·∫£n ·ª©ng b·∫•t ng·ªùüò≤trong tin h·ªçc.",
            "Rule 11: M·∫≠t kh·∫©u ph·∫£I ch·ª©a √≠t nh·∫•t 3 k√Ω t·ª± ƒë·∫∑c bi·ªát trong d√£y.",
            "Rule 12: M·∫≠t kh·∫©u ph·∫£i l√† m·ªôt c√¢u tr·∫£ l·ªùi ƒë√∫ng cho b√†i to√°N: 2x + 3 = 15, x = ?",
            "Rule 13: M·∫≠t kh·∫©u ph·∫£i C√≥ t√™n bi√™n so·∫°n mƒ© thu·∫≠t sgk k·∫øt n·ªëi tri th·ª©c to√°n l·ªõp 10 t·∫≠p hai.",
            "Rule 14: M·∫≠t kh·∫©u c√≥ m·ªôt s·ªë th·∫≠p ph√¢n.Cho ph√©p lai AaBbDdEe x AaBbDdEe,bi·∫øt 1 gene quy ƒë·ªãnh t√≠nh tr·∫°ng tr·ªôi ho√†n to√†n h√£y x√°c ƒë·ªãnh t·ªâ l·ªá c∆° th·ªÉ mang hai Alen tr·ªôi ·ªü F1.",
            "Rule 15: M·∫≠t kh·∫©u ph·∫£i c√≥ t·ª´ d√†i nh·∫•t trong ti·∫øng Ph√°p",
            "Rule 16: m·ªôt s·ªë v√¥ t·ªâ th∆∞·ªùng g·∫∑p.",
            "Rule 17: M·∫≠t kh·∫©u l√† m·ªôt s·ªë.M·ªôt ng∆∞·ªùi cha 45 tu·ªïi v√† ng∆∞·ªùi con 25 tu·ªïi.Bao nhi√™u nƒÉm n·ªØa th√¨ tu·ªïi cha g·∫•p ƒë√¥i tu·ªïi con? bi·∫øt cha v√† con c√≥ th·ªÉ s·ªëng ƒë·∫øn 80 tU·ªïi.",
            "Rule 18: M·∫≠t kh·∫©u c√≥ m√£ hex c·ªßa m√†u ƒëen.",
            "Rule 19: M·∫≠t kh·∫©u l√† T√™n b·ªô Anime of the years c·ªßa Shinkai Makoto 2016.",
            "Rule 20: M·∫≠t kh·∫©u l√† pass 1O",
            "Rule 21: M·∫≠t kh·∫©u ph·∫£i c√≥ s·ªë nƒÉm nhu·∫≠n g·∫ßn th·ªùi ƒëi·ªÉm hi·ªán t·∫°i nh·∫•t.",
            "Rule 22: Cotan ƒë·ªô.",
            "Rule 23: M·∫≠t kh·∫©u ch·ª©a t√™n fb admin",
            "Rule 24: M·∫≠t kh·∫©u l√† s·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t c·ªßa playstation",
            "Rule 25: M·∫≠t kh·∫©u l√† s·∫£n ph·∫©m b√°n n·∫±m nh·∫•t c·ªßa playstation.",
            "Rule 26: K√≠ t·ª± mang √Ω nghƒ©a nghi v·∫•n.",
            "Rule 27: M·∫≠t kh·∫©u l√† t√™n game",
            "Rule 28: Th√¥ng ƒëi·ªáp g√¨ c·ªßa b·ªô y t·∫ø ph√≤ng ƒë·∫°i d·ªãch covid-19 do sars-cov-2? ",
            "Rule 29: M·ªô t·ªï g·ªìm 7 nam v√† 3 n·ªØ.ch·ªçn ng·∫´u nhi√™n hai ng∆∞·ªùi,x√°c su·∫•t ƒë·ªÉ trong hai ng∆∞·ªùi ƒë∆∞·ª£c ch·ªçn √≠t nh·∫•t m·ªôt n·ªØ l√†?m·∫≠t kh·∫©u l√†m tr√≤n ƒë·∫øn h√†ng ph·∫ßn trƒÉm.",
            "Rule 30: M·∫≠t kh·∫©u d·ª±a tr√™n m·ªôt s·ªë rule c·ªßa t·ª±a game n√†y!:)th√¥ng minh s·∫Ω tr·∫£ l·ªùi ƒë∆∞·ª£c"
        ];

        let currentRuleIndex = 0;
        let achievements = 0;
        let previousPasswordLength = 0; // Bi·∫øn ƒë·ªÉ theo d√µi ƒë·ªô d√†i m·∫≠t kh·∫©u tr∆∞·ªõc ƒë√≥

        function updateRulesDisplay() {
            const rulesList = document.getElementById("rules");
            rulesList.innerHTML = rules.slice(0, currentRuleIndex + 1).map((rule, index) => {
                return `<li style='color: ${index < currentRuleIndex ? "green" : (index === currentRuleIndex ? "white" : "yellow")};'>${rule}</li>`;
            }).reverse().join("");

            // Show the images when Rule 3 is active
            document.getElementById("platformImages").style.display = (currentRuleIndex === 3) ? "flex" : "none";
        }

        function checkPassword() {  
            const password = document.getElementById("password").value.trim();  
            const feedback = document.getElementById("feedback");  
            let valid = false;  

            // Ki·ªÉm tra xem ƒë·ªô d√†i m·∫≠t kh·∫©u c√≥ gi·∫£m kh√¥ng
            if (password.length < previousPasswordLength) {
                document.getElementById("password").value = ""; // X√≥a m·∫≠t kh·∫©u
                return;
            }

            previousPasswordLength = password.length; // C·∫≠p nh·∫≠t ƒë·ªô d√†i m·∫≠t kh·∫©u tr∆∞·ªõc ƒë√≥

            if (currentRuleIndex < rules.length) {  
                switch (currentRuleIndex) {  
                    case 0:  
                        valid = true;  
                        break;  
                    case 1:  
                        valid = password.length >= 8;  
                        break;  
                    case 2:  
                        valid = /[A-Z]/.test(password);  
                        break;  
                    case 3:  
                        valid = /facebook|tiktok|youtube/i.test(password);  
                        break;  
                    case 4:  
                        valid = /\d/.test(password);  
                        break;  
                    case 5:  
                        valid = /[!@#$%^&*]/.test(password);  
                        break;  
                    case 6:  
                        valid = parseFloat(password) < 9;  
                        break;  
                    case 7:  
                        valid = password.split(/[^a-z0-9]/i).includes("qf2");  
                        break;  
                    case 8:  
                        valid = password.split(/[^a-zA-Z]/).includes("Australia");  
                        break;  
                    case 9:  
                        valid = password.split(/[^0-9]/).includes("3");  
                        break;  
                    case 10:  
                        valid = password.includes("U+1F62E");  
                        break;
                    case 11:  
                        valid = (password.match(/[!@#$%^&*]/g) || []).length >= 3;  
                        break;  
                    case 12:  
                        valid = password.split(/[^0-9]/).includes("6");    
                        break;  
                    case 13:  
                        valid = password.includes("NGUY·ªÑN B√çCH LA");  
                        break; 
                    case 14:  
                        valid = password.includes("0,109375");  
                        break;
                    case 15:  
                        valid = password.includes("hippopotomonstrosesquippedaliophobie");  
                        break;  
                    case 16:  
                        valid = password.includes("œÄ");  
                        break;  
                    case 17:  
                        valid = password.includes("0");   
                        break;  
                    case 18:  
                        valid = password.includes("#000000");   
                        break;  
                    case 19:  
                        valid = password.includes("Your Name");  
                        break;  
                    case 20:  
                        valid = password.includes("Password Puzzle");    
                        break;  
                    case 21:  
                        valid = password.includes("2024");
                        break;  
                    case 22:  
                        valid = password.includes("1");
                        break;  
                    case 23:  
                        valid = password.includes("Dot Toan Yeager");
                        break;  
                    case 24:  
                        valid = password.includes("PS2"); 
                        break;  
                    case 25:  
                        valid = password.includes("PS3");    
                        break;  
                    case 26:  
                        valid = password.includes("?"); 
                        break;  
                    case 27:  
                        valid = password.includes("Password Puzzle 2"); 
                        break;  
                    case 28:  
                        valid = password.includes("5K"); 
                        break;  
                    case 29:  
                        valid = password.includes("0,53");  
                        break;  
                    case 30:  
                        valid = password.includes("ADMINCUTO");   
                        break;  
                }  
            }  

            if (valid) {  
                if (currentRuleIndex === 30) { // N·∫øu ho√†n th√†nh quy t·∫Øc 30
                    feedback.innerHTML = "B·∫°n ƒë√£ ph√° ƒë·∫£o game!";
                    document.getElementById("completionMessage").style.display = "block"; // Hi·ªÉn th·ªã th√¥ng b√°o khi ho√†n th√†nh game
                } else {
                    feedback.innerHTML = "Quy t·∫Øc ho√†n th√†nh, ti·∫øp t·ª•c v·ªõi quy t·∫Øc ti·∫øp theo!";  
                }
                achievements++;  
                document.getElementById("achievementCounter").innerText = "Ti·∫øn tr√¨nh: " + achievements + "/31";  
                currentRuleIndex++;  
                updateRulesDisplay();  
            } else {  
                feedback.innerHTML = "M·∫≠t kh·∫©u kh√¥ng h·ª£p l·ªá, th·ª≠ l·∫°i!";  
            }  
        }  

        function resetGame() {
            currentRuleIndex = 0;
            achievements = 0;
            previousPasswordLength = 0; // Reset ƒë·ªô d√†i m·∫≠t kh·∫©u tr∆∞·ªõc ƒë√≥
            document.getElementById("password").value = "";
            document.getElementById("feedback").innerHTML = "";
            document.getElementById("achievementCounter").innerText = "Ti·∫øn tr√¨nh: " + achievements + "/31";
            document.getElementById("gameOverMessage").style.display = "none"; // ·∫®n th√¥ng b√°o Game Over
            document.getElementById("tryAgain").style.display = "none"; // ·∫®n n√∫t Th·ª≠ l·∫°i
            document.getElementById("completionMessage").style.display = "none"; // ·∫®n th√¥ng b√°o khi reset game
            updateRulesDisplay();
        }

        // Kh·ªüi t·∫°o giao di·ªán ban ƒë·∫ßu
        updateRulesDisplay();
    </script>
</body>
</html>
